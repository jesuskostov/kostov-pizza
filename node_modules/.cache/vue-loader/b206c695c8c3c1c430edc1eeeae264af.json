{"remainingRequest":"/Users/isustsankov/Documents/GIT/kostov-pizza/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/isustsankov/Documents/GIT/kostov-pizza/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/isustsankov/Documents/GIT/kostov-pizza/src/views/Admin.vue","mtime":1624274501237},{"path":"/Users/isustsankov/Documents/GIT/kostov-pizza/node_modules/cache-loader/dist/cjs.js","mtime":1624274498832},{"path":"/Users/isustsankov/Documents/GIT/kostov-pizza/node_modules/babel-loader/lib/index.js","mtime":1624274498405},{"path":"/Users/isustsankov/Documents/GIT/kostov-pizza/node_modules/cache-loader/dist/cjs.js","mtime":1624274498832},{"path":"/Users/isustsankov/Documents/GIT/kostov-pizza/node_modules/vue-loader/lib/index.js","mtime":1624274501018}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZiLCBwcm9kdWN0UmVmIH0gZnJvbSAiLi4vZmlyZWJhc2UiOwppbXBvcnQgQ2FydCBmcm9tICcuLi9jb21wb25lbnRzL0NhcnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2FydAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkZFByb2R1Y3Q6IGZhbHNlLCAgCiAgICAgIG5hbWU6ICIiLAogICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgIHByaWNlOiBudWxsLAogICAgICBpbWFnZUlucHV0OiBudWxsLAogICAgICBpbWFnZTogIiIsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0KCkgewogICAgICBwcm9kdWN0UmVmCiAgICAgICAgLnB1c2goewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sCiAgICAgICAgICBwcmljZTogdGhpcy5wcmljZSwKICAgICAgICAgIGltYWdlOiB0aGlzLmltYWdlCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLm5hbWUgPSAiIjsKICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSAiIjsKICAgICAgICAgIHRoaXMucHJpY2UgPSAiIjsKICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHRpdGxlOiBgU3VjY2Vzc2Z1bCBjcmVhdGVkIHByb2R1Y3RgLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmFkZFByb2R1Y3QgPSBmYWxzZQogICAgfSwKICAgIG9uUGlja0ZpbGUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZUlucHV0LmNsaWNrKCk7CiAgICB9LAogICAgdXBsb2FkUGhvdG8oZSkgewogICAgICBsZXQgaW1hZ2UgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgbGV0IHN0b3JhZ2VSZWYgPSBmYi5zdG9yYWdlKCkucmVmKCJwcm9kdWN0cy8iICsgaW1hZ2UubmFtZSk7CiAgICAgIGxldCB1cGxvYWRJbWFnZSA9IHN0b3JhZ2VSZWYucHV0KGltYWdlKTsKICAgICAgdXBsb2FkSW1hZ2Uub24oCiAgICAgICAgInN0YXRlX2NoYW5nZWQiLAogICAgICAgICgpID0+IHt9LAogICAgICAgICgpID0+IHsKICAgICAgICAgIC8vIEhhbmRsZSB1bnN1Y2Nlc3NmdWwgdXBsb2FkcwogICAgICAgIH0sCiAgICAgICAgKCkgPT4gewogICAgICAgICAgLy8gSGFuZGxlIHN1Y2Nlc3NmdWwgdXBsb2FkcyBvbiBjb21wbGV0ZQogICAgICAgICAgdXBsb2FkSW1hZ2Uuc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihkb3dubG9hZFVSTCA9PiB7CiAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBkb3dubG9hZFVSTDsKICAgICAgICAgICAgY29uc29sZS5sb2coIkZpbGUgYXZhaWxhYmxlIGF0IiwgZG93bmxvYWRVUkwpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICApOwogICAgfQogIH0sCiAKfTsK"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n      <div class=\"position-relative my-3\">\n        <div class=\"icon\"></div>\n        <button @click=\"addProduct = true\" class=\"dashboard-btn\">Създай нов продукт</button>\n      </div>\n      <div class=\"position-relative my-3\">\n        <div class=\"icon\"></div>\n        <router-link to=\"/admin-orders\" class=\"dashboard-btn d-flex align-items-center justify-content-center\">Виж всички поръчки</router-link>\n      </div>\n      <div v-if=\"addProduct\" class=\"col-12 box\">\n        <h3 class=\"mb-4 text-left\">Create new product</h3>\n        <button class=\"photoBtn\" @click=\"onPickFile\">Upload image</button>\n        <input type=\"file\" style=\"display: none\" ref=\"fileInput\" @change=\"uploadPhoto\" />\n        <input\n        type=\"text\"\n        class=\"form-control product-input mb-4\"\n        v-model=\"name\"\n        placeholder=\"Name\"\n        />\n        <input\n        type=\"text\"\n        class=\"form-control product-input mb-4\"\n        v-model=\"description\"\n        placeholder=\"Description\"\n        />\n        <input\n        type=\"number\"\n        class=\"form-control product-input mb-4\"\n        v-model=\"price\"\n        placeholder=\"Price\"\n        />\n        <button class=\"addBtn\" @click=\"submit()\">Add</button>\n      </div>\n      <Cart />\n  </div>\n</template>\n\n<script>\nimport { fb, productRef } from \"../firebase\";\nimport Cart from '../components/Cart'\n\nexport default {\n  components: {\n    Cart\n  },\n  data() {\n    return {\n      addProduct: false,  \n      name: \"\",\n      description: \"\",\n      price: null,\n      imageInput: null,\n      image: \"\",\n    };\n  },\n  methods: {\n    submit() {\n      productRef\n        .push({\n          name: this.name,\n          description: this.description,\n          price: this.price,\n          image: this.image\n        })\n        .then(() => {\n          this.name = \"\";\n          this.description = \"\";\n          this.price = \"\";\n          this.$swal({\n            icon: \"success\",\n            title: `Successful created product`,\n            showConfirmButton: false,\n            timer: 3000\n          });\n        });\n        this.addProduct = false\n    },\n    onPickFile() {\n      this.$refs.fileInput.click();\n    },\n    uploadPhoto(e) {\n      let image = e.target.files[0];\n      let storageRef = fb.storage().ref(\"products/\" + image.name);\n      let uploadImage = storageRef.put(image);\n      uploadImage.on(\n        \"state_changed\",\n        () => {},\n        () => {\n          // Handle unsuccessful uploads\n        },\n        () => {\n          // Handle successful uploads on complete\n          uploadImage.snapshot.ref.getDownloadURL().then(downloadURL => {\n            this.image = downloadURL;\n            console.log(\"File available at\", downloadURL);\n          });\n        }\n      );\n    }\n  },\n \n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard-btn {\n    width: 100%;\n    border:0;\n    border-radius: 0;\n    background-color: #3a7afe;\n    color: #fff;\n    height: 60px;\n    padding-left: 20%;\n}\n\n.icon {\n    position: absolute;\n    left: 0;\n    width: 20%;\n    height: 100%;\n    background-color: #10ca93;\n}\n\n.product-input {\n    width: 100%;\n    background-color:#d7dae3;\n    height: 40px;\n    color: #fff;\n\n    &::placeholder {\n        color: #000;\n    }\n}\n\n.photoBtn {\n    width: 100%;\n    height: 50px;\n    border-radius: 0;\n    border:0;\n    background-color: #3a7afe;\n    color: #fff;\n    margin-bottom: 30px;\n}\n\n.addBtn {\n    width: 100%;\n    background-color: #10ca93;\n    border: 0;\n    color: #fff;\n    height: 50px;\n}\n</style>"]}]}