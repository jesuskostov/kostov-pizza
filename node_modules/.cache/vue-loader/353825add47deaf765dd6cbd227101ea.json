{"remainingRequest":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jesuskostov/Desktop/project/kostov-pizza/src/components/Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/src/components/Products.vue","mtime":1613726653746},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBeGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHtmYn0gZnJvbSAnLi4vZmlyZWJhc2UnCmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Mb2FkZXInCmltcG9ydCBWaWV3UHJvZHVjdCBmcm9tICcuLi9jb21wb25lbnRzL1ZpZXdQcm9kdWN0JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIZWxsb1dvcmxkJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdElEOiBudWxsLAogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIHByb2R1Y3RzOiBbXSwKICAgICAgdXNlclVpZDogJycKICAgIH0KICB9LCAKICBjb21wb25lbnRzOiB7CiAgICBMb2FkZXIsCiAgICBWaWV3UHJvZHVjdAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIEF4aW9zLmdldCgnaHR0cHM6Ly9waXp6YS01ZjkwMC5maXJlYmFzZWlvLmNvbS8uanNvbicpLnRoZW4oIHJlcyA9PiB7CiAgICAgIHRoaXMucHJvZHVjdHMgPSByZXMuZGF0YS5waXp6YQogICAgfSkudGhlbigoKSA9PiB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgfSwgMTUwMCkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coMTIzKTsKICAgICAgdGhpcy5wcm9kdWN0SUQgPSBudWxsCiAgICB9LAogICAgdmlld1Byb2R1Y3QoaSkgewogICAgICB0aGlzLnByb2R1Y3RJRCA9IGkKICAgIH0sCiAgICBhZGRUb0NhcnQocHJvZHVjdCwgaWQsIHByaWNlKSB7CiAgICAgIGxldCB1c2VySUQgPSB0aGlzLnVzZXJVaWQKICAgICAgbGV0IGl0ZW0gPSB7cHJvZHVjdCwgaWQsIHF1YW50aXR5OiAxLCBwcmljZSwgdXNlcklEfQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkVG9DYXJ0JywgaXRlbSkKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAKICAgICAgICBmYi5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKCB1c2VyID0+IHsKICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgICAvLyBVc2VyIGlzIHNpZ25lZCBpbi4KICAgICAgICAgICAgdGhpcy51c2VyVWlkID0gdXNlci51aWQ7CiAgICAgICAgLy8gICAgIGxldCBhZG1pblVpZCA9IHVzZXIudWlkCiAgICAgICAgLy8gICAgIGxldCB1aWQgPSAnRG1veUNVZXlGOWVjMDRDT2xLUWRjQ25Zc2QyMycKICAgICAgICAvLyAgICAgaWYgKGFkbWluVWlkID09IHVpZCl7CiAgICAgICAgLy8gICAgIHRoaXMuaXNBZG1pbiA9IHRydWUKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgLy8gICAgIC8vIE5vIHVzZXIgaXMgc2lnbmVkIGluLgogICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnVXNlciBub3QgbG9nZ2VkJyk7CiAgICAgICAgLy8gfQogICAgICAgICAgICB9CiAgICAgICAgfSkKICB9Cn0K"},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row\">\n    <transition name=\"fade\">\n      <Loader v-if=\"isLoading\" />\n    </transition>\n      <!-- BG -->\n      <div class=\"bg\" :class=\"{'show': productID}\"></div>\n      <!-- PRODUCTS -->\n      <div class=\"col-12 mx-auto col-3 col-md-4\" v-for=\"(product, i) in products\" :key=\"i\">\n          <div v-if=\"!isLoading\" class=\"box pizza-item d-flex flex-column flex-md-row py-0\">\n            <div class=\"img d-flex align-items-center justify-content-center\" @click=\"viewProduct(i)\">\n                <img v-if=\"product.image\" :src=\"product.image\" alt=\"pizza\">\n            </div>\n            <div class=\"d-flex flex-column\">\n              <div class=\"px-2 pt-1\" @click=\"viewProduct(i)\">\n                <h3>{{product.name}}</h3>\n                <p>{{product.description}}</p>\n              </div>\n              <div class=\"px-2 mt-auto\">\n                <p class=\"price\">{{product.price}} лв</p>\n              </div>\n            </div>\n            <button @click=\"viewProduct(i)\" class=\"addToCart-btn view\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n                  viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\">\n                <g>\n                  <g>\n                    <path d=\"M509.188,247.27c-4.57-6.39-113.521-156.272-252.182-156.272C118.334,90.998,7.383,240.88,2.813,247.27\n                      c-3.75,5.22-3.75,12.25,0,17.46c4.57,6.39,115.521,156.271,254.193,156.271c138.661,0,247.612-149.881,252.182-156.272\n                      C512.938,259.52,512.938,252.489,509.188,247.27z M257.006,361c-57.891,0-107.001-47.11-107.001-105.001\n                      s49.11-105.001,107.001-105.001s105.001,47.11,105.001,105.001S314.897,361,257.006,361z\"/>\n                  </g>\n                  <g>\n                    <path d=\"M257.006,210.999c-24.82,0-47,20.19-47,45c0,24.82,22.18,45,47,45c24.81,0,45-20.18,45-45\n                      C302.006,231.189,281.816,210.999,257.006,210.999z\"/>\n                  </g>\n                </g>\n\n              </svg>\n            </button>\n            <button @click=\"addToCart(product, i, product.price)\" class=\"addToCart-btn\">+</button>\n          </div>\n      </div>\n      <!-- VIEW PRODUCT -->\n      <transition name=\"slide\">\n        <ViewProduct v-show=\"productID\" :id=\"productID\"  v-on:willClose=\"close()\" />\n      </transition>\n  </div>\n</template>\n  \n<script>\nimport Axios from 'axios'\nimport {fb} from '../firebase'\nimport Loader from '../components/Loader'\nimport ViewProduct from '../components/ViewProduct'\n\nexport default {\n  name: 'HelloWorld',\n  data() {\n    return {\n      productID: null,\n      isLoading: true,\n      products: [],\n      userUid: ''\n    }\n  }, \n  components: {\n    Loader,\n    ViewProduct\n  },\n  created() {\n    Axios.get('https://pizza-5f900.firebaseio.com/.json').then( res => {\n      this.products = res.data.pizza\n    }).then(() => {\n      setTimeout(() => {\n        this.isLoading = false\n      }, 1500)\n    })\n  },\n  methods: {\n    close() {\n      console.log(123);\n      this.productID = null\n    },\n    viewProduct(i) {\n      this.productID = i\n    },\n    addToCart(product, id, price) {\n      let userID = this.userUid\n      let item = {product, id, quantity: 1, price, userID}\n      this.$store.dispatch('addToCart', item)\n    }\n  },\n  mounted() {\n    \n        fb.auth().onAuthStateChanged( user => {\n        if (user) {\n            // User is signed in.\n            this.userUid = user.uid;\n        //     let adminUid = user.uid\n        //     let uid = 'DmoyCUeyF9ec04COlKQdcCnYsd23'\n        //     if (adminUid == uid){\n        //     this.isAdmin = true\n        //     }\n        // } else {\n        //     // No user is signed in.\n        //     console.log('User not logged');\n        // }\n            }\n        })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.close-btn {\n  position: relative;\n  z-index: 10;\n}\n.bg {\n    pointer-events: none;  \n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: #000;\n    z-index: 1;\n    opacity: 0;\n    transition: 1s;\n\n    &.show {\n      pointer-events: unset;\n      opacity: 0.6;\n      transition: 1s;\n    }\n}\n\n.slide-enter-active, .slide-leave-active {\ntransition: margin-bottom .8s ease-out;\n}\n\n/*\nyou set the css property before transition starts\n*/\n.slide-enter {\n  margin-bottom: -300px;\n}\n\n.slide-leave-to {\n  margin-bottom: -50vh;\n}\n/*\nyou set the css property it will be when transition ends\n*/\n.slide-enter-to, .slide-leave {\n  margin-bottom: 0px;\n}\n\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 1s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n\n.addToCart-btn {\n  width: 40px;\n  height: 40px;\n  background-color: #3a7afe;\n  border: 0;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  border-top-left-radius: 200px;\n  color: #fff;  \n\n  &.view {\n    top: 0;\n    right: 0;\n    bottom: unset;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 200px;\n    background-color: #10ca93;\n\n    svg {\n      width: 18px;\n      height: 18px;\n      position: relative;\n      top: -5px;\n      left: -2px;\n      fill: #fff;\n    }\n\n  }\n}\n\n.pizza-item {\n  height: 125px;\n  text-align: left;\n  box-shadow: 0 6px 8px rgba(0,0,0,0.11);\n  margin-bottom: 20px;\n  \n  h3 {\n    padding-top: 10px;\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 3px;\n  }\n\n  p {\n    margin-bottom: 0;\n    font-size: 12px;\n    color: #9c9999;\n\n    &.price {\n      margin-bottom: 10px;\n      font-size: 15px;\n      font-weight: 600;\n      color: #ff9f00;\n    }\n  }\n  \n  .img {\n    position: relative;\n    width: 40%;\n    overflow: hidden;\n\n      img {\n        width: 85%;\n        height: 85%;\n        object-fit: contain;\n      }\n  }\n}\n\n\n@media (min-width: 768px) {\n  .pizza-item {\n    height: 100%;\n    .img {\n        width: 50%;\n      img {\n        width: 80%;\n        height: auto;\n      }\n    }\n  }\n}\n</style>"]}]}