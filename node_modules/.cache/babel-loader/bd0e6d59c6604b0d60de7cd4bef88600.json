{"remainingRequest":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/babel-loader/lib/index.js!/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jesuskostov/Desktop/project/kostov-pizza/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/src/views/Admin.vue","mtime":1604675016000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/project/kostov-pizza/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGZiLCBwcm9kdWN0UmVmIH0gZnJvbSAiLi4vZmlyZWJhc2UiOwppbXBvcnQgQ2FydCBmcm9tICcuLi9jb21wb25lbnRzL0NhcnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2FydDogQ2FydAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkZFByb2R1Y3Q6IGZhbHNlLAogICAgICBuYW1lOiAiIiwKICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICBwcmljZTogbnVsbCwKICAgICAgaW1hZ2VJbnB1dDogbnVsbCwKICAgICAgaW1hZ2U6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBwcm9kdWN0UmVmLnB1c2goewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICBwcmljZTogdGhpcy5wcmljZSwKICAgICAgICBpbWFnZTogdGhpcy5pbWFnZQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5uYW1lID0gIiI7CiAgICAgICAgX3RoaXMuZGVzY3JpcHRpb24gPSAiIjsKICAgICAgICBfdGhpcy5wcmljZSA9ICIiOwoKICAgICAgICBfdGhpcy4kc3dhbCh7CiAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICB0aXRsZTogIlN1Y2Nlc3NmdWwgY3JlYXRlZCBwcm9kdWN0IiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmFkZFByb2R1Y3QgPSBmYWxzZTsKICAgIH0sCiAgICBvblBpY2tGaWxlOiBmdW5jdGlvbiBvblBpY2tGaWxlKCkgewogICAgICB0aGlzLiRyZWZzLmZpbGVJbnB1dC5jbGljaygpOwogICAgfSwKICAgIHVwbG9hZFBob3RvOiBmdW5jdGlvbiB1cGxvYWRQaG90byhlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGltYWdlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgIHZhciBzdG9yYWdlUmVmID0gZmIuc3RvcmFnZSgpLnJlZigicHJvZHVjdHMvIiArIGltYWdlLm5hbWUpOwogICAgICB2YXIgdXBsb2FkSW1hZ2UgPSBzdG9yYWdlUmVmLnB1dChpbWFnZSk7CiAgICAgIHVwbG9hZEltYWdlLm9uKCJzdGF0ZV9jaGFuZ2VkIiwgZnVuY3Rpb24gKCkge30sIGZ1bmN0aW9uICgpIHsvLyBIYW5kbGUgdW5zdWNjZXNzZnVsIHVwbG9hZHMKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIC8vIEhhbmRsZSBzdWNjZXNzZnVsIHVwbG9hZHMgb24gY29tcGxldGUKICAgICAgICB1cGxvYWRJbWFnZS5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKGZ1bmN0aW9uIChkb3dubG9hZFVSTCkgewogICAgICAgICAgX3RoaXMyLmltYWdlID0gZG93bmxvYWRVUkw7CiAgICAgICAgICBjb25zb2xlLmxvZygiRmlsZSBhdmFpbGFibGUgYXQiLCBkb3dubG9hZFVSTCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,EAAA,EAAA,UAAA,QAAA,aAAA;AACA,OAAA,IAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,UAAA,EAAA,IALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,MAAA,UAAA,CACA,IADA,CACA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,WAAA,EAAA,KAAA,WAFA;AAGA,QAAA,KAAA,EAAA,KAAA,KAHA;AAIA,QAAA,KAAA,EAAA,KAAA;AAJA,OADA,EAOA,IAPA,CAOA,YAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,EAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA;AACA,UAAA,IAAA,EAAA,SADA;AAEA,UAAA,KAAA,8BAFA;AAGA,UAAA,iBAAA,EAAA,KAHA;AAIA,UAAA,KAAA,EAAA;AAJA,SAAA;AAMA,OAjBA;AAkBA,WAAA,UAAA,GAAA,KAAA;AACA,KArBA;AAsBA,IAAA,UAtBA,wBAsBA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,KAxBA;AAyBA,IAAA,WAzBA,uBAyBA,CAzBA,EAyBA;AAAA;;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,UAAA,GAAA,EAAA,CAAA,OAAA,GAAA,GAAA,CAAA,cAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,WAAA,GAAA,UAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AACA,MAAA,WAAA,CAAA,EAAA,CACA,eADA,EAEA,YAAA,CAAA,CAFA,EAGA,YAAA,CACA;AACA,OALA,EAMA,YAAA;AACA;AACA,QAAA,WAAA,CAAA,QAAA,CAAA,GAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,WAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,WAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,WAAA;AACA,SAHA;AAIA,OAZA;AAcA;AA3CA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n      <div class=\"position-relative my-3\">\n        <div class=\"icon\"></div>\n        <button @click=\"addProduct = true\" class=\"dashboard-btn\">Създай нов продукт</button>\n      </div>\n      <div class=\"position-relative my-3\">\n        <div class=\"icon\"></div>\n        <router-link to=\"/admin-orders\" class=\"dashboard-btn d-flex align-items-center justify-content-center\">Виж всички поръчки</router-link>\n      </div>\n      <div v-if=\"addProduct\" class=\"col-12 box\">\n        <h3 class=\"mb-4 text-left\">Create new product</h3>\n        <button class=\"photoBtn\" @click=\"onPickFile\">Upload image</button>\n        <input type=\"file\" style=\"display: none\" ref=\"fileInput\" @change=\"uploadPhoto\" />\n        <input\n        type=\"text\"\n        class=\"form-control product-input mb-4\"\n        v-model=\"name\"\n        placeholder=\"Name\"\n        />\n        <input\n        type=\"text\"\n        class=\"form-control product-input mb-4\"\n        v-model=\"description\"\n        placeholder=\"Description\"\n        />\n        <input\n        type=\"number\"\n        class=\"form-control product-input mb-4\"\n        v-model=\"price\"\n        placeholder=\"Price\"\n        />\n        <button class=\"addBtn\" @click=\"submit()\">Add</button>\n      </div>\n      <Cart />\n  </div>\n</template>\n\n<script>\nimport { fb, productRef } from \"../firebase\";\nimport Cart from '../components/Cart'\n\nexport default {\n  components: {\n    Cart\n  },\n  data() {\n    return {\n      addProduct: false,  \n      name: \"\",\n      description: \"\",\n      price: null,\n      imageInput: null,\n      image: \"\",\n    };\n  },\n  methods: {\n    submit() {\n      productRef\n        .push({\n          name: this.name,\n          description: this.description,\n          price: this.price,\n          image: this.image\n        })\n        .then(() => {\n          this.name = \"\";\n          this.description = \"\";\n          this.price = \"\";\n          this.$swal({\n            icon: \"success\",\n            title: `Successful created product`,\n            showConfirmButton: false,\n            timer: 3000\n          });\n        });\n        this.addProduct = false\n    },\n    onPickFile() {\n      this.$refs.fileInput.click();\n    },\n    uploadPhoto(e) {\n      let image = e.target.files[0];\n      let storageRef = fb.storage().ref(\"products/\" + image.name);\n      let uploadImage = storageRef.put(image);\n      uploadImage.on(\n        \"state_changed\",\n        () => {},\n        () => {\n          // Handle unsuccessful uploads\n        },\n        () => {\n          // Handle successful uploads on complete\n          uploadImage.snapshot.ref.getDownloadURL().then(downloadURL => {\n            this.image = downloadURL;\n            console.log(\"File available at\", downloadURL);\n          });\n        }\n      );\n    }\n  },\n \n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard-btn {\n    width: 100%;\n    border:0;\n    border-radius: 0;\n    background-color: #3a7afe;\n    color: #fff;\n    height: 60px;\n    padding-left: 20%;\n}\n\n.icon {\n    position: absolute;\n    left: 0;\n    width: 20%;\n    height: 100%;\n    background-color: #10ca93;\n}\n\n.product-input {\n    width: 100%;\n    background-color:#d7dae3;\n    height: 40px;\n    color: #fff;\n\n    &::placeholder {\n        color: #000;\n    }\n}\n\n.photoBtn {\n    width: 100%;\n    height: 50px;\n    border-radius: 0;\n    border:0;\n    background-color: #3a7afe;\n    color: #fff;\n    margin-bottom: 30px;\n}\n\n.addBtn {\n    width: 100%;\n    background-color: #10ca93;\n    border: 0;\n    color: #fff;\n    height: 50px;\n}\n</style>"],"sourceRoot":"src/views"}]}